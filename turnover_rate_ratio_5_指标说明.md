# turnover_rate_ratio_5 指标说明

## 0. 换手率与量比的关系

### 换手率（Turnover Rate）
- 定义：换手率 = 当日成交股数 / 流通股本 × 100%
- 含义：反映一只股票在一定时间内流通股本被买卖的频率，衡量市场活跃度。
- 特点：与流通盘大小有关，适合衡量个股整体活跃度。

### 量比（Volume Ratio）
- 定义：量比 = 当日某时段成交量 / 过去N日同一时段平均成交量
- 含义：反映当前成交量与历史平均成交量的对比，衡量市场短期活跃度是否异常。
- 特点：与历史成交量有关，适合捕捉短期成交量异动。

### 二者关系
- 换手率反映“今天总共换了多少手”，是绝对值，和流通盘有关。
- 量比反映“今天成交量相比历史平均是否放大”，是相对值，和历史成交量有关。
- 两者都与成交量有关，成交量大，换手率和量比都可能高。
- 换手率高不一定量比高，量比高也不一定换手率高。
- turnover_rate_ratio_5 本质上类似“量比”，但用换手率消除了流通盘大小的影响，适合不同股票横向对比。

---

## 1. 指标定义

**turnover_rate_ratio_5 = 当日换手率 / 过去5日均换手率**

- 反映今日换手率相对于近期平均水平的“放大”或“缩小”程度。
- 类似于“量比”，但用换手率消除了流通盘大小的影响，适合不同股票横向对比。

---

## 2. 指标含义

- **turnover_rate_ratio_5 > 1**：今日换手率高于5日均值，资金活跃度提升。
- **turnover_rate_ratio_5 < 1**：今日换手率低于5日均值，资金活跃度下降。

---

## 3. 信号判断方法

### （1）放量信号（资金异动/行情启动）
- **判断条件**：`turnover_rate_ratio_5 > 1.5` 或 `> 2`
- **含义**：今日换手率比5日均值高出50%~100%，说明资金突然活跃，主力有异动，常见于突破、拉升、涨停等行情启动阶段。
- **实战用法**：
  - 配合价格创新高、均线突破等信号，作为“有效放量突破”的确认。
  - 结合K线形态，判断是否为主力吸筹、拉升。

### （2）缩量信号（行情衰竭/风险释放）
- **判断条件**：`turnover_rate_ratio_5 < 0.5`
- **含义**：今日换手率只有5日均值的一半，市场交易冷清，资金观望，常见于调整、筑底、主力洗盘阶段。
- **实战用法**：
  - 配合价格回调、横盘，判断是否为“缩量调整”，后市有望止跌企稳。
  - 若高位缩量滞涨，需警惕主力出货、行情见顶。

### （3）极端信号
- **极端放量**：`turnover_rate_ratio_5 > 3`
  - 需结合涨跌幅判断，若大涨大放量，短线追涨需谨慎，防止冲高回落。
- **极端缩量**：`turnover_rate_ratio_5 < 0.3`
  - 说明市场极度冷清，短线机会较少。

---

## 4. 策略举例

- **放量突破买入**：
  ```python
  if (turnover_rate_ratio_5 > 2) and (close > 近期高点):
      # 放量突破信号，考虑买入
  ```
- **缩量回调关注**：
  ```python
  if (turnover_rate_ratio_5 < 0.5) and (价格处于支撑位):
      # 缩量调整，关注后续放量企稳机会
  ```
- **高位放量警惕**：
  ```python
  if (turnover_rate_ratio_5 > 2) and (价格已大幅上涨):
      # 警惕短线冲高回落风险
  ```

---

## 5. 实战建议

- **不要单独用该指标做买卖决策**，建议结合价格行为、技术形态、均线、量比等多维度信号综合判断。
- **不同市场环境、不同个股可适当调整阈值**，如主板/创业板、活跃/冷门股，建议先做历史统计分析。

---

## 总结

**turnover_rate_ratio_5 是捕捉资金异动、行情启动、风险释放的高效辅助指标。**
- > 1.5~2：放量，关注机会或警惕风险
- < 0.5：缩量，关注调整或筑底

灵活结合其它信号，可大幅提升选股和风控的准确性。 

---

# 综合量能与技术形态的股票交易策略设计规划

## 一、策略目标

本策略旨在通过结合成交量相关指标（量比、换手率、换手率比）与技术形态（均线、股价区间位置等），捕捉资金异动和趋势启动信号，筛选强势个股，规避高位风险，实现稳健的波段操作。

---

## 二、核心指标与信号

1. **量能指标**
   - 换手率：衡量个股活跃度，反映市场关注度。
   - 量比：衡量当前成交量与历史均值的对比，捕捉短线资金异动。
   - 换手率比（turnover_rate_ratio_5）：衡量今日换手率相对5日均值的变化，消除流通盘影响，适合横向对比。

2. **技术形态指标**
   - 均线系统：5日、10日、20日、60日等均线，判断趋势方向和多空排列。
   - 股价位置：90日/250日区间相对位置（如90d_price_position、3year_price_position），判断是否突破近期高点或处于历史低位。
   - 辅助指标（可选）：MACD、KDJ、布林带等。

---

## 三、选股与买入条件

1. **资金异动筛选**
   - 换手率 > 3%（或高于个股历史均值）
   - 量比 > 2
   - 换手率比（turnover_rate_ratio_5）> 1.5

2. **技术形态确认**
   - 股价站上5日、10日、20日均线，且均线多头排列（5日>10日>20日）
   - 股价突破近20日或60日新高，或90日区间位置 > 0.8
   - MACD金叉、KDJ金叉等辅助信号（可选）

3. **风险过滤**
   - 不在历史高位（如3年区间位置 < 0.95）
   - 当日涨幅不过大（如 < 8%），避免追高
   - 排除ST、次新、流动性差个股

---

## 四、卖出与止损条件

- 股价跌破20日均线或5日、10日均线死叉
- 换手率比 < 0.5 且量比 < 0.8（资金明显撤离）
- 股价高位放量滞涨，或出现长上影线、放量大跌
- 固定止损（如-5%），或动态止盈（如涨幅回撤10%）

---

## 五、策略流程（伪代码）

```python
for stock in universe:
    if (换手率 > 3) and (量比 > 2) and (turnover_rate_ratio_5 > 1.5):
        if (close > ma5 > ma10 > ma20) and (close > 近20日高点):
            if (90d_price_position > 0.8) and (3year_price_position < 0.95):
                # 满足买入条件
                buy(stock)
    # 卖出条件
    if 持仓:
        if (close < ma20) or (turnover_rate_ratio_5 < 0.5 and 量比 < 0.8):
            sell(stock)
        elif (高位放量滞涨) or (跌破止损线):
            sell(stock)
```

---

## 六、参数与细节说明

- 各阈值（如换手率、量比、均线周期）可根据市场环境和个股特性调整。
- 可结合板块轮动、市场情绪等宏观因子进一步优化。
- 回测时需考虑实际流动性、涨跌停限制、滑点等因素。

---

## 七、风险提示

- 量能异动并非全部为主力吸筹，需结合价格行为和技术形态过滤假信号。
- 高位放量、极端涨幅时需谨慎追高，防止冲高回落。
- 建议多因子综合判断，避免单一指标失效带来的风险。 